<!DOCTYPE html>
<html lang="en" class="h-100">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="keywords" content="" />
		<meta name="author" content="" />
		<meta name="robots" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" />
		<meta property="og:title" />
		<meta property="og:description" />
		<meta property="og:image" content="social-image.png" />
		<meta name="format-detection" content="telephone=no" />
		<!-- PAGE TITLE HERE -->
		<title>Login Rent 24</title>
		<!-- FAVICONS ICON -->
		<link rel="shortcut icon" type="image/png" href="images/favicon.png" />
		<link href="vendor/wow-master/css/libs/animate.css" rel="stylesheet" />
		<link href="vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet" />
		<link
			rel="stylesheet"
			href="vendor/bootstrap-select-country/css/bootstrap-select-country.min.css"
		/>
		<link rel="stylesheet" href="vendor/jquery-nice-select/css/nice-select.css" />
		<!--swiper-slider-->
		<link rel="stylesheet" href="vendor/swiper/css/swiper-bundle.min.css" />
		<link
			href="vendor/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css"
			rel="stylesheet"
		/>
		<!-- Style css -->
		<link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet" />
		<link href="css/style.css" rel="stylesheet" />

		<link href="vendor/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet" />
	</head>
	<style>
		.logindisappy {
			color: #fff;
		}

		/* Hide the div on screens with max-width less than 768px (common mobile breakpoint) */
		@media (max-width: 768px) {
			.logindisappy {
				display: none;
			}
		}
	</style>

	<body class="body h-100">
		<div class="container-fluid h-100">
			<div class="row h-100 align-items-center justify-contain-center">
				<div class="col-xl-12">
					<div class="card main-width">
						<div class="card-body p-0">
							<div class="row m-0">
								<div class="col-xl-4 col-lg-4">
									<div class="card">
										<div class="card-body">
											<div class="d-flex align-items-center justify-content-between mb-4">
												<a href="index.html">
													<img
														class="logo-abbr dark-logo"
														width="200"
														src="images/logo.png"
														alt=""
													/>
												</a>
												<span class="mt-xl-0 mt-3"
													><a href="index.html" class="text-primary font-w500">
														<- Back</a
													></span
												>
											</div>
											<h2>Hi,Welcome Back!</h2>
											<span>Please login to continue.</span>
											<form id="loginForm" class="mt-4">
												<div class="form-group mb-4">
													<label for="exampleInputEmail1">Email address or Username</label>
													<input
														type="text"
														class="form-control"
														id="identifier"
														name="identifier"
														placeholder="Enter Email or Username"
													/>
												</div>
												<div class="form-group mb-4">
													<label for="exampleInputPassword1">Password</label>
													<input
														type="password"
														class="form-control"
														id="password"
														name="password"
														placeholder="Password"
													/>
												</div>
												<div
													class="d-flex align-items-center justify-content-between mb-4 flex-wrap"
												>
													<div class="form-check">
														<input
															type="checkbox"
															class="form-check-input"
															id="exampleCheck1"
														/>
														<label class="form-check-label font-w400" for="exampleCheck1"
															>keep me signed in</label
														>
													</div>
													<span
														><a
															href="forgot-password.html"
															class="text-primary font-w500 c-pointer"
															>Forget Password ?</a
														></span
													>
												</div>
												<button type="submit" class="btn btn-primary btn-block mb-4">
													<i class="fa-solid fa-lock text-white me-2"></i>Submit
												</button>
											</form>
											<div class="position-relative social-log text-center mb-4">
												<span>Or,log in with your email</span>
											</div>
											<div class="text-center mb-4">
												<button class="btn btn-outline-light text-center">
													<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
													<svg
														version="1.1"
														width="20"
														height="20"
														id="Layer_1"
														xmlns="http://www.w3.org/2000/svg"
														xmlns:xlink="http://www.w3.org/1999/xlink"
														x="0px"
														y="0px"
														viewBox="0 0 512 512"
														style="enable-background: new 0 0 512 512"
														xml:space="preserve"
													>
														<path
															style="fill: #167ee6"
															d="M492.668,211.489l-208.84-0.01c-9.222,0-16.697,7.474-16.697,16.696v66.715
													c0,9.22,7.475,16.696,16.696,16.696h117.606c-12.878,33.421-36.914,61.41-67.58,79.194L384,477.589
													c80.442-46.523,128-128.152,128-219.53c0-13.011-0.959-22.312-2.877-32.785C507.665,217.317,500.757,211.489,492.668,211.489z"
														/>
														<path
															style="fill: #12b347"
															d="M256,411.826c-57.554,0-107.798-31.446-134.783-77.979l-86.806,50.034
													C78.586,460.443,161.34,512,256,512c46.437,0,90.254-12.503,128-34.292v-0.119l-50.147-86.81
													C310.915,404.083,284.371,411.826,256,411.826z"
														/>
														<path
															style="fill: #0f993e"
															d="M384,477.708v-0.119l-50.147-86.81c-22.938,13.303-49.48,21.047-77.853,21.047V512
													C302.437,512,346.256,499.497,384,477.708z"
														/>
														<path
															style="fill: #ffd500"
															d="M100.174,256c0-28.369,7.742-54.91,21.043-77.847l-86.806-50.034C12.502,165.746,0,209.444,0,256
													s12.502,90.254,34.411,127.881l86.806-50.034C107.916,310.91,100.174,284.369,100.174,256z"
														/>
														<path
															style="fill: #ff4b26"
															d="M256,100.174c37.531,0,72.005,13.336,98.932,35.519c6.643,5.472,16.298,5.077,22.383-1.008
													l47.27-47.27c6.904-6.904,6.412-18.205-0.963-24.603C378.507,23.673,319.807,0,256,0C161.34,0,78.586,51.557,34.411,128.119
													l86.806,50.034C148.202,131.62,198.446,100.174,256,100.174z"
														/>
														<path
															style="fill: #d93f21"
															d="M354.932,135.693c6.643,5.472,16.299,5.077,22.383-1.008l47.27-47.27
													c6.903-6.904,6.411-18.205-0.963-24.603C378.507,23.672,319.807,0,256,0v100.174C293.53,100.174,328.005,113.51,354.932,135.693z"
														/>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
														<g></g>
													</svg>

													Sign In With Google
												</button>
											</div>
											<div class="text-center">
												<span class=""
													>Do not have account Yet?<a
														href="register.html"
														class="text-primary font-w500"
														>Try for free!</a
													></span
												>
											</div>
										</div>
									</div>
								</div>
								<div
									class="col-xl-8 col-lg-8 position-relative bg-secondary login-border logindisappy"
								>
									<div class="d-flex flex-column justify-content-between h-100">
										<div class="content text-center py-4">
											<h2 class="text-white mb-0">Welcome To Your Rent house.</h2>
											<p class="text-white">
												The Place where you connect with any vendor of your choices
											</p>
										</div>
										<div class="login-media-1">
											<img src="images/logo2.png" alt="" />
										</div>
										<
										<div
											class="d-flex align-items-center justify-content-between text-white pb-3 px-2"
										>
											<span
												><a href="javascript:void(0);" class="text-white d-xl-block d-none"
													>Privacy policy and Terms of use</a
												></span
											>
											<span class="text-center"
												><a href="javascript:void(0);" class="text-white"
													>Copyright Â© Rent 24 Designed &amp; Developed by</a
												>
												<a class="text-white" href="https://stitchitin.com/" target="_blank"
													>Stitch-it-in</a
												>
												2024</span
											>
											<span
												><a href="javascript:void(0);" class="text-white d-xl-block d-none">
													Privacy policy</a
												></span
											>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			// Function to set a cookie
			function setCookie(name, value, days) {
				const date = new Date();
				date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
				const expires = "expires=" + date.toUTCString();
				document.cookie = name + "=" + value + ";" + expires + ";path=/";
			}

			// Function to get a cookie by name
			function getCookie(name) {
				const nameEQ = name + "=";
				const cookies = document.cookie.split(";");
				for (let i = 0; i < cookies.length; i++) {
					let cookie = cookies[i];
					while (cookie.charAt(0) === " ") cookie = cookie.substring(1);
					if (cookie.indexOf(nameEQ) === 0) return cookie.substring(nameEQ.length, cookie.length);
				}
				return null;
			}

			// Function to handle user login
			function loginUser(identifier, password) {
				const data = {
					identifier: identifier,
					password: password,
				};

				// Send a POST request to the login API endpoint
				fetch("backend/login.php", {
					// Adjust the endpoint to your setup
					method: "POST", // Use POST for sending login details
					headers: {
						"Content-Type": "application/json", // JSON content type
					},
					body: JSON.stringify(data), // Convert the data to JSON
				})
					.then((response) => {
						if (!response.ok) {
							throw new Error("Network response was not ok");
						}
						return response.json(); // Parse the JSON response
					})
					.then((result) => {
						if (result.success) {
							// Set user information in a cookie
							const user = result.user; // Get user details
							setCookie("user", JSON.stringify(user), 7); // Set cookie for 7 days

							// Login successful
							swal("Login successful!", result.message, "success").then(() => {
								// Redirect to a dashboard or another page
								window.location.href = "user_dashboard.html"; // Adjust as needed
							});
						} else {
							// Login failed
							sweetAlert("Login failed", result.message, "error");
						}
					})
					.catch((error) => {
						console.error("Error during login:", error);
						sweetAlert("An error occurred", "Please try again.", "error");
					});
			}

			// Event listener for form submission
			document.addEventListener("DOMContentLoaded", function () {
				document.getElementById("loginForm").addEventListener("submit", function (event) {
					event.preventDefault(); // Prevent default form submission

					// Get values from form inputs
					const identifier = document.getElementById("identifier").value; // Email or username
					const password = document.getElementById("password").value;

					// Call the login function with the form values
					loginUser(identifier, password);
				});
			});
		</script>

		<!--**********************************
        Scripts
    ***********************************-->
		<!-- Required vendors -->
		<script src="vendor/global/global.min.js"></script>
		<script src="js/plugins-init/sweetalert.init.js"></script>

		<script src="vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
		<script src="vendor/sweetalert2/dist/sweetalert2.min.js"></script>
		<script src="js/plugins-init/sweetalert.init.js"></script>
	</body>
</html>
